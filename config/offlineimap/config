# vim: filetype=conf

[general]
ui = ttyui
#ui = syslog
#ui = blinkenlights
#ui = quiet
#ui = machineui
#ui = basic
accounts = Work
#maxsyncaccounts = 2

# NOTE: This is a python2 file
pythonfile=~/.config/offlineimap/offlineimap.py
fsync = False


# Apply following settings for all accounts
[DEFAULT]
postsynchook = notmuch new


## The following info was obtained from:
#	https://ryanmcconville.com/blog/post/offlineimap-with-outlook365/
[Account Work]
localrepository = Work-Local
remoterepository = Work-Remote

[Repository Work-Local]
type = Maildir
localfolders = ~/.mail/redstack365

# Propogate deletes to remote
#sync_deletes = no

nametrans = lambda folder: {'Sent': 'Sent Items'}.get(folder, folder)

[Repository Work-Remote]
type = IMAP
remoteuser = c.coutinho@redstack365.nl
remotepasseval = get_pass(account="Redstack365")
remotehost = outlook.office365.com
remoteport = 993
realdelete = no
ssl = yes
sslcacertfile = /var/lib/ca-certificates/ca-bundle.pem
nametrans = lambda folder: {'Sent Items': 'Sent'}.get(folder, folder)
folderfilter = lambda folder: folder in [
	'INBOX',
	'Sent Items',
	'Drafts',
	'Archive',
	'Clutter',
	'Newsletters',
	'Newsletters/Basecamp',
	'Newsletters/Dakota',
	'Newsletters/MOOSE',
	'Newsletters/Official',
	'Newsletters/ParaView',
	'Newsletters/PostgreSQL',
	'Newsletters/PostgreSQL/General',
	'Newsletters/PostgreSQL/Hackers',
	'Newsletters/PostgreSQL/Novice',
	'Newsletters/RED-News',
	]
